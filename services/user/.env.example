# HMS User Service Environment Variables

# Service Configuration
NODE_ENV=development
PORT=3001
SERVICE_NAME=user-service
LOG_LEVEL=info

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=hms
DB_USER=hmsuser
DB_PASSWORD=hmspassword
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_CONNECTION_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=30000

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CONNECTION_TIMEOUT=10000

# JWT Configuration
JWT_PUBLIC_KEY_FILE=./keys/jwt-public.pem
JWT_PRIVATE_KEY_FILE=./keys/jwt-private.pem
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d
JWT_KEY_ROTATION_INTERVAL=30d
JWT_ISSUER=hms-user-service
JWT_AUDIENCE=hms-services

# Password Configuration
PASSWORD_SALT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
PASSWORD_MAX_LENGTH=128
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true
PASSWORD_MAX_FAILED_ATTEMPTS=5
PASSWORD_LOCKOUT_DURATION=15m

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_REQUESTS=5
PASSWORD_RESET_RATE_LIMIT_WINDOW_MS=3600000
PASSWORD_RESET_RATE_LIMIT_MAX_REQUESTS=3

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@hms.com
SMTP_PASSWORD=your-email-password
EMAIL_FROM=noreply@hms.com
EMAIL_FROM_NAME=HMS User Service

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Correlation-ID,X-Request-ID,X-Trace-ID

# Security Headers
HELMET_CSP_DIRECTIVE=default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self'; connect-src 'self'
HELMET_HSTS_MAX_AGE=31536000
HELMET_HSTS_INCLUDE_SUBDOMAINS=true
HELMET_HSTS_PRELOAD=true

# Session Management
SESSION_SECRET=your-session-secret-key-here
SESSION_MAX_AGE=7d
SESSION_SECURE_COOKIE=false
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=strict

# Event Bus Configuration
EVENT_BUS_REDIS_HOST=localhost
EVENT_BUS_REDIS_PORT=6379
EVENT_BUS_REDIS_PASSWORD=
EVENT_BUS_REDIS_DB=1
EVENT_BUS_ENABLE_DEAD_LETTER_QUEUE=true
EVENT_BUS_DEFAULT_RETRY_ATTEMPTS=3
EVENT_BUS_DEFAULT_TIMEOUT=30000

# Audit Logging
AUDIT_LOG_PATH=logs/audit.log
ENABLE_AUDIT_LOG=true
AUDIT_LOG_RETENTION_DAYS=90

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000

# Development Settings
DEV_AUTO_CREATE_ADMIN=true
DEV_ADMIN_EMAIL=admin@hms.com
DEV_ADMIN_PASSWORD=Admin@123456
DEV_ADMIN_FIRST_NAME=System
DEV_ADMIN_LAST_NAME=Administrator

# Production Settings
PROD_KEY_VAULT_ENABLED=false
PROD_KEY_VAULT_URL=
PROD_KEY_VAULT_SECRET_NAME=

# Backup and Recovery
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=

# External Services
NOTIFICATION_SERVICE_URL=http://localhost:3009
NOTIFICATION_SERVICE_TIMEOUT=5000
NOTIFICATION_SERVICE_RETRY_ATTEMPTS=3

# Compliance
DATA_ENCRYPTION_AT_REST=false
DATA_ENCRYPTION_KEY=
PII_ANONYMIZATION=false
GDPR_COMPLIANCE=true
AUDIT_TRAIL_ENABLED=true

# Logging
LOG_FORMAT=json
LOG_MAX_FILE_SIZE=10m
LOG_MAX_FILES=10
LOG_COMPRESS=true
LOG_DATE_PATTERN=YYYY-MM-DD

# API Documentation
ENABLE_SWAGGER=true
SWAGGER_PATH=/api-docs
SWAGGER_TITLE=HMS User Service API
SWAGGER_DESCRIPTION=User authentication and management service
SWAGGER_VERSION=1.0.0